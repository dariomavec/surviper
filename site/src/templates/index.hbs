<div class="container-lg">
    <h1>Survivor Face Detection Training</h1>
    <ul class="nav nav-tabs" id="survivorTabs" role="tablist">
        {{#each cast}}
    <li class="nav-item" role="presentation">
        <button class="nav-link {{#if @first}}active{{/if}}"
                id="surv-{{@key}}-tab"
                data-bs-toggle="tab"
                data-bs-target="#surv-{{@key}}-tab-pane"
                type="button"
                role="tab"
                aria-controls="surv-{{@key}}-tab-pane"
                aria-selected="{{#if @first}}true{{else}}false{{/if}}">{{@key}}</button>
        {{/each}}
    </ul>

    <div class="tab-content" id="survivorTabContent">
        {{#each cast}}
        <div class="tab-pane fade {{#if @first}}show active{{/if}}"
            id="surv-{{@key}}-tab-pane"
            role="tabpanel"
            aria-labelledby="surv-{{@key}}-tab"
            tabindex="0">
            <div class="row">
                <div class="col">
                <img src={{#with (lookup ../training_imgs @index)~}}{{src}}{{/with}} class="rounded mx-auto d-block img-header border border-success" />
                </div>
            </div>

<<<<<<< HEAD
            <form id="survivor-{{@key}}" action="https://surviper.dmavec.workers.dev/submit" method="POST" class="needs-validation">
            <input type="hidden" id="id" name="id" value={{#with (lookup ../training_imgs @index)~}}{{key}}{{/with}} />
            <input type="hidden" id="season" name="season" value="{{@key}}" />
            <input type="hidden" id="user" name="user" value="dummy" />
=======
            <form name="faces" method="POST" action="" data-netlify="true">
            <input type="hidden" name="form-name" value="faces" />
>>>>>>> 83cc1322bfb226f805ab95349091cf4dc6e78abb
            {{#each this}}
                {{#if (every4 @index)}}<div class="row">{{/if}}
                    <div class="col-3">
                        <img src={{this}} class="img-responsive img-icons rounded border border-primary" />
                        <input
                        type="radio"
                        name="survivor"
                        id="survivor"
                        value="{{@key}}" required/>
                    </div>
                {{#if (every4offset @index)}}</div>
                {{else}}
                  {{#if @last}}</div>{{/if}}
                {{/if}}
            {{/each}}
            <div class="row">
                <div class="col-3">
                    <img src={{ ../other_imgs.host }} class="img-responsive img-icons rounded border border-secondary" />
                    <input
                        type="radio"
                        name="survivor"
                        id="survivor"
                        value="host" />
                </div>
                <div class="col-3">
                    <img src={{ ../other_imgs.not_sure }} class="img-responsive img-icons rounded border border-secondary" />
                    <input
                        type="radio"
                        name="survivor"
                        id="survivor"
                        value="n/a" />
                </div>
                <div class="col-3">
                    <img src={{ ../other_imgs.not_cast }} class="img-responsive img-icons rounded border border-secondary" />
                    <input
                        type="radio"
                        name="survivor"
                        id="survivor"
                        value="unknown" />
                </div>
            </div>
            <div class="col-auto">
                <button type="submit" class="btn btn-primary mb-3">Submit</button>
            </div>
            </form>
        </div>
    {{/each}}

    <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
    'use strict';
    window.addEventListener('load', function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
        form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
            }
            form.classList.add('was-validated');
        }, false);
        });
    }, false);
    })();
    </script>
    </div>
</div>
